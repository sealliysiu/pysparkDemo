# De-ID Report | MIMIC-III Demo 数据脱敏处理说明文档

**项目名称**：医疗结构化数据脱敏处理试验  
**数据来源**：MIMIC-III Clinical Database Demo  
**处理时间**：2025年6月29日  
**处理人**：林熠  
**处理工具**：Python 3.12, pandas, Faker

---

## 1. 处理目的

本项目旨在对开源的结构化医疗数据进行脱敏处理，以构建一个可公开使用的数据子集，保障患者隐私，同时用于医疗 AI 与数据分析建模的前期实验验证。

---

## 2. 脱敏字段识别与分类

| 表名        | 字段名       | 类型           | 敏感等级 | 说明               |
|-------------|--------------|----------------|----------|--------------------|
| PATIENTS    | subject_id   | 唯一标识符     | 高       | 替换为随机编号     |
| PATIENTS    | dob          | 出生日期       | 高       | 泛化为年龄段       |
| PATIENTS    | dod / dod_hosp / dod_ssn | 死亡日期 | 高 | 直接删除            |
| ADMISSIONS  | admittime    | 时间戳         | 中       | 提取为月份（年月）  |
| ADMISSIONS  | dischtime / deathtime / edregtime / edouttime | 时间戳 | 高 | 删除 |
| CAREGIVERS  | cgid         | 医护人员编号   | 中       | 替换为随机编号     |
| CAREGIVERS  | description  | 医护职称       | 中       | 统一替换为“Medical Staff” |

---

## 3. 脱敏方法汇总

- **唯一标识符替换**：`subject_id`、`cgid` 使用 `Faker.random_int()` 随机编码替换，确保不可逆。
- **出生日期泛化**：将 DOB 转换为年龄段：0-20, 21-40, 41-60, 60+
- **精确时间模糊化**：将入院时间（admittime）精度降至“年月”，其余时间字段删除
- **统一标签替换**：description 字段不保留原始内容，统一改为“Medical Staff”
- **字段删除**：删除所有可能反向推断个人身份的时间戳（死亡时间、急诊时间等）

---

## 4. 字段映射记录

为便于内部测试与追踪，生成以下映射文件：

- `subject_id_map.csv`：记录原始 subject_id 与替换后的编号对应关系  
- `cgid_map.csv`：记录原始护理人员编号与新编号对应关系  

> ⚠️ 注意：该映射表仅用于内部测试记录，**不包含于最终公开的数据集**，以确保合规与不可逆性。

---

## 5. 合规性说明

- 本次脱敏参考了 **HIPAA Safe Harbor 规定**，移除或处理了其中所有 18 个标识字段中的适用部分；
- 所有处理字段不可逆，结果数据集不包含任何直接或可组合识别身份的字段；
- 本数据集仅用于学习、教学、算法验证用途，**不作为真实医疗决策依据**。

---

## 6. 版本记录

| 版本 | 日期        | 修改人 | 说明             |
|------|-------------|--------|------------------|
| v1.0 | 2025-06-29  | 林熠   | 初始脱敏处理完成 |
