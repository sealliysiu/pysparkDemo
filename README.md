# ğŸ¥ MIMIC-III åŒ»ç–—ç»“æ„åŒ–æ•°æ®è„±æ•å¤„ç†é¡¹ç›®

æœ¬é¡¹ç›®æ—¨åœ¨å¯¹ MIMIC-III Clinical Database çš„ç»“æ„åŒ– CSV æ•°æ®è¿›è¡Œå»æ ‡è¯†åŒ–ï¼ˆDe-Identificationï¼‰å¤„ç†ï¼Œä»¥ä¿éšœéšç§æ•°æ®å®‰å…¨ï¼ŒåŒæ—¶ä¿ç•™ç ”ç©¶ä¸åˆ†ææ‰€éœ€çš„ä¿¡æ¯ã€‚é€‚ç”¨äºåŒ»ç–— AI å»ºæ¨¡ã€æ•°æ®å…±äº«å‰çš„é¢„å¤„ç†ã€åˆè§„è®­ç»ƒæ•°æ®æ„å»ºç­‰åœºæ™¯ã€‚

---

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
â”œâ”€â”€ data/             # åŸå§‹è¾“å…¥æ–‡ä»¶ï¼ˆPATIENTS.csv, ADMISSIONS.csv, CAREGIVERS.csvï¼‰
â”œâ”€â”€ output/           # è¾“å‡ºçš„è„±æ•æ–‡ä»¶
â”œâ”€â”€ python/
â”‚   â”œâ”€â”€ deid_pandas.py    # ä½¿ç”¨ pandas å®ç°çš„è„±æ•è„šæœ¬
â”‚   â””â”€â”€ deid_spark.py     # ä½¿ç”¨ PySpark å®ç°çš„è„±æ•è„šæœ¬ï¼ˆæ¨èï¼‰
â”œâ”€â”€ subject_id_map.csv    # subject_id æ˜ å°„æ—¥å¿—ï¼ˆä»…å†…éƒ¨å®¡è®¡ä½¿ç”¨ï¼‰
â”œâ”€â”€ cgid_map.csv          # caregivers æ˜ å°„æ—¥å¿—
â””â”€â”€ De-ID_Report.md       # è„±æ•è¯´æ˜æ–‡æ¡£
```

---

## ğŸ› ï¸ è„šæœ¬åŠŸèƒ½è¯´æ˜

### è¾“å…¥æ–‡ä»¶ï¼ˆä½äº `data/`ï¼‰ï¼š
- `PATIENTS.csv`: åŒ…å«ç—…äººåŸºæœ¬ä¿¡æ¯
- `ADMISSIONS.csv`: åŒ…å«å…¥é™¢è®°å½•
- `CAREGIVERS.csv`: åŒ…å«åŒ»æŠ¤äººå‘˜ä¿¡æ¯

### è„±æ•é€»è¾‘ï¼š

| å­—æ®µå       | å¤„ç†æ–¹å¼                  |
|--------------|---------------------------|
| `subject_id` | æ›¿æ¢ä¸ºéšæœºç¼–å·ï¼ˆä¸å¯é€†ï¼‰   |
| `dob`        | æ³›åŒ–ä¸ºå¹´é¾„æ®µï¼ˆå¦‚ 21-40ï¼‰  |
| `admittime`  | ç²¾åº¦é™ä¸ºå¹´æœˆï¼ˆyyyy-MMï¼‰   |
| `cgid`       | æ›¿æ¢ä¸ºéšæœºç¼–å·ï¼ˆä¸å¯é€†ï¼‰   |
| `description`| ç»Ÿä¸€æ›¿æ¢ä¸º â€œMedical Staffâ€ |
| æ—¶é—´æˆ³å­—æ®µ   | ç²¾ç¡®æ—¶é—´å…¨éƒ¨åˆ é™¤           |

---

## ğŸ§© å®ç°ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§/å·¥å…·   | `deid_pandas.py`              | `deid_spark.py`               |
|------------|-------------------------------|-------------------------------|
| é€‚ç”¨åœºæ™¯   | å°å‹æµ‹è¯•ï¼ŒåŸå‹å¼€å‘              | å¤§è§„æ¨¡æ•°æ®å¤„ç†ï¼Œæ¨èç”Ÿäº§ä½¿ç”¨   |
| æ€§èƒ½       | ä¾èµ–å†…å­˜ï¼Œå•çº¿ç¨‹                | å¹¶è¡Œæ‰§è¡Œï¼Œæ”¯æŒç™¾ä¸‡çº§æ•°æ®       |
| ä¾èµ–åº“     | `pandas`, `faker`              | `pyspark`, `faker`            |
| è¾“å‡ºæ ¼å¼   | CSV æ–‡ä»¶ + è„±æ•æ˜ å°„æ—¥å¿—         | åŒä¸Š                           |
| æ‰§è¡Œç¯å¢ƒ   | ä»»æ„ Python ç¯å¢ƒ                | æ¨èä½¿ç”¨ Ubuntu + Java 8 è™šæ‹Ÿæœº |

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### âœ… æ–¹æ³• 1ï¼šè¿è¡Œ pandas ç‰ˆæœ¬ï¼ˆé€‚ç”¨äºæœ¬æœºæµ‹è¯•ï¼‰

```bash
cd python
python deid_pandas.py
```

### âœ… æ–¹æ³• 2ï¼šè¿è¡Œ PySpark ç‰ˆæœ¬ï¼ˆæ¨èï¼‰

```bash
cd python
spark-submit deid_spark.py
```

> âš ï¸ è¯·ç¡®ä¿ä½ å·²æ­£ç¡®å®‰è£… Java 8 ä¸ Sparkï¼Œå¹¶åœ¨ Ubuntu è™šæ‹Ÿæœºä¸­è¿è¡Œæ›´ç¨³å®šã€‚

---

## ğŸ“¦ ä¾èµ–ç¯å¢ƒ

- Python 3.8+
- Java 8ï¼ˆâš ï¸ é Java 17ï¼‰
- Spark 3.x
- å®‰è£…ä¾èµ–ï¼š

```bash
pip install pandas faker pyspark
```

---

## ğŸ§¾ è¾“å‡ºç»“æœ

ä½äº `output/` ç›®å½•ï¼š

- `PATIENTS_deid.csv` / `PATIENTS_deid_spark.csv`
- `ADMISSIONS_deid.csv` / `ADMISSIONS_deid_spark.csv`
- `CAREGIVERS_deid.csv` / `CAREGIVERS_deid_spark.csv`
- `subject_id_map.csv`, `cgid_map.csv`
- [è„±æ•è¯´æ˜æ–‡æ¡£](./De-ID_Report.md)

---

## ğŸ“š å‚è€ƒä¸åˆè§„æ€§è¯´æ˜

- å‚è€ƒæ ‡å‡†ï¼šHIPAA Safe Harborï¼ŒPIPLï¼ŒMIT MIMIC æ•°æ®ä½¿ç”¨æ¡æ¬¾
- æ‰€æœ‰è„±æ•å­—æ®µä¸å¯é€†ï¼Œè¾“å‡ºæ•°æ®ä¸åŒ…å«å¯è¯†åˆ«ä¸ªä½“èº«ä»½çš„ä¿¡æ¯
- é¡¹ç›®ä»…ä¾›æ•™å­¦ã€ç§‘ç ”ã€åˆè§„å®éªŒç”¨é€”

---

## ğŸ‘¨â€ğŸ’» ä½œè€…

liy | 2025  
GitHub: [sealliysiu](https://github.com/sealliysiu)
